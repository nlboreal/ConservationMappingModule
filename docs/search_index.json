[["index.html", "Mapping Module for Conservation Biology II (BIOL 4651/7944) 1 This is a manual for the Mapping Module in BIOL 4651/7704 (Conservation in Practice)", " Mapping Module for Conservation Biology II (BIOL 4651/7944) Yolanda Wiersma, Memorial University 2021-11-09 1 This is a manual for the Mapping Module in BIOL 4651/7704 (Conservation in Practice) It will teach you to download and manipulate spatial data and is an updated exercise to the previous ones in the ConservationGIS module that have been used in this course. "],["intro.html", "2 Introduction", " 2 Introduction This is a module for the Winter 2022 offering of BIOL 4651/7794 (Conservation Biology- Conservation in Practice). Further resources and hints for completing the exercise can be found in the Conservation GIS manual, available here. If you are not familar with R, it is recommended that you read through the MUN Biology R manual, which is available online here, paying special attention to chapters 1-9. "],["Downloading.html", "3 Downlaoding Data", " 3 Downlaoding Data Review the Overview of Types of GIS Data from the Conservation GIS manual. In this part we will be working with Vector data from the Government of Manitoba. These are available via the Manitoba Land Initiative. You should start by exploring this page. Click on the Download digital maps icon to review the Licence Agreement. Click on the Manitoba Land Initiative link above, and review the data license agreement. Once you agree, you will land on a page, with categories of data on the left. You will download the items listed below to your own folder. Download these to the same folder you will be working from in RStudio. IMPORTANT files will be downloaded as .zip files! You can extract these using Windows Explorer (on a PC) or WinZip software (if you have it). If you are using a Mac, double click the .zip file to unzip it. Make sure the unzipped files get extracted to your working folder! Under the Base Maps menu, download and extract the .shp file for the 1:2,000,000 base map. We will get the remaining layers we need via the ESRI Online interface. Login to ESRI online and search for layers by typiing in the search bar at the top of the screen. Make sure the toggle switch for Only search in Memorial University is set to off. Search for and download each of these files: Manitoba Provincial Boundary Manitoba Parks Aboriginal Land Types in Canada Finally, search within Memorial University for a shapefile called RMNP, which was created by me. Download this file to the same folder as the other GIS layers. "],["Vectors.html", "4 Working with Vector Data", " 4 Working with Vector Data We will use the R package sf for handling vector data. You will have to download and install this package from the CRAN repository (review section 4.10 of the MUN Biology R manual if need a reminder of how to do this). install.packages(&quot;sf&quot;, repos = &quot;http://cran.us.r-projct.org&quot;) library(sf) To plot the data (i.e., make a map) we will also need the package ggplot2, so make sure to load and install that as well. install.packages(&quot;ggplot2&quot;, repos = &quot;http://cran.us.r-projct.org&quot;) library(ggplot2) Set your working directory to the spot where you downloaded the data in the previous chapter 3. If you do not remember how to check, and set your working directory, review section 4.2. Then read in the shapefile for the boundary outline of the province of Manitoba, the provincial parks layer and the Aboriginal lands layer as follows (note that you may have to change the file path and file names if you named them differently when you downloaded. In the text below, my GIS files are in a sub-folder named GIS_MB): MB_outline &lt;- st_read(&quot;GIS_MB/Manitoba_Provincial_Boundary.shp&quot;) MB_parks &lt;-st_read(&quot;GIS_MB/Manitoba_Parks.shp&quot;) IndigenousLands &lt;- st_read(\"Aboriginal_Lands.shp\") Create a map of the province of Manitoba boundary and the Indigenous lands layers using ggplot using the code snippet below: ggplot() + geom_sf(data = MB_outline) + geom_sf(data = IndigenousLands) Notice that the Indigenous Lands layer is for all of Canada. To clip this to just include those within the province of Manitoba, execute this code: MB_IndigenousLands &lt;- IndigenousLands[MB_outline, ] If you substitute the new layer MB_IndigenousLands in the ggplot code snippet you used above, you will only see the lands that are within the provincial boundaries of Manitoba, and your map should look like this: Now add in the layer for provincial parks ggplot() + geom_sf(data = MB_outline) + geom_sf(data = MB_IndigenousLands) + geom_sf(data = MB_parks) Now, try reading in and adding the layer for railways, using the code below: MB_rail &lt;- st_read(&quot;GIS_MB/rail.shp&quot;) ggplot() + geom_sf(data = MB_outline) + geom_sf(data = MB_IndigenousLands) + geom_sf(data = MB_parks) + geom_sf(data = MB_rail) Note that you get an error message that says something about a missing crs. crs stand for co-ordinate reference system. This refers to how map data a projected to transform the round earth to a flat map. Read more about projections in the ConservationGIS module. Verify that the MB_rail layer has no crs with the following code: st_crs(MB_rail) ## Coordinate Reference System: NA Now use the same st_crs function to check the CRS for the MB_parks layer. Notice the code right at the IDend of the output. It is 26914, which is the reference code for that files projection (which is in NAD 83, UTM Zone 14N). To assign the existing projection system for MB_parks to the MB_rail layer, execute the following code: MB_rail &lt;- st_set_crs(MB_rail, 26914) Now try making the map with the provincial boundary, the Manitoba Indigenous lands layer and the rail layer. This is starting to look like all the pieces are coming together, but it is hard to see the different features without some kind of colour coding or other symbology. Details on how to change symbols can be viewed by typing vignette(\"ggplot2-specs\") at the prompt. An example to make the Indigenous lands yellow and the rail line a brown dashed line is below: ggplot() + geom_sf(data = MB_outline) + geom_sf(data = MB_IndigenousLands, fill = &quot;yellow&quot;) + geom_sf(data = MB_parks, fill = &quot;green&quot;) + geom_sf(data = MB_rail, lty = &quot;dashed&quot;, col = &quot;brown&quot;) Now, try reading in the following additional layers and symbolize them as listed. Your final map should look like the one below. NOTE if you run into CRS error messages, simply go through the steps above to fix them. NOTE pay attention to the order in which you read things into ggplot, so that your final map matches the one below. Riding Mountain National Park - pink Roads layer - red Water layer - blue In the chapter5, we will explore how we can use the data underlying this map to do an area analysis. "],["AreaAnalysis.html", "5 Area Analysis", " 5 Area Analysis Spatial analysis is much more than making maps, so in this chapter we will investigate how to harness the data underlying these maps to answer some questions. Each shapefile has an associated attribute database file. You can see what the data look like by typing head(&lt;datalayername&gt;). This will give you the spatial reference data and the attribute data. TRY IT!! Type head(MB_Parks) and note the spatial referencing and attribute data. One of the headers is 0_AREA, which gives the area of the park in hectares. The RMNP has area data stored in the AnalysisAr field. We are going to calculate the total area of Manitoba that is set aside as protected, and compare this to the total area in Indigenous land. Then we will visualize these data with graphs. First, we add up the park area and the area of RMNP (we will exclude the other national park, Wapusk). total_park_area &lt;- MB_RMNP$AnalysisAr + sum(MB_parks$O_AREA/100) Note we divide the area of the parks by 100 since it is reported in hectares and we want square kilometers. The Indigenous land layer does not have an area field, so it has to be calculated based on the CRS (co-ordinate reference system) using the st_area function. Because the CRS is in UTMs, area will be in square metres. Thus we need to divide to get to areas in square km. Use the code below and note the use of the pipes (%&gt;% symbol) which require the dplyr package (you can review the dplyr pacakge in the lab manual for BIOL 1002, available [here(https://ahurford.github.io/biol-1002/index.html)]). MB_Indigenous_areas &lt;- MB_IndigenousLands %&gt;% mutate(area_sqm = st_area(MB_IndigenousLands)) %&gt;% mutate(area_sqkm = area_sqm/1000000) Now calculate the sum of the MB_Indigenous areas and assign that to an object called total_Indigenous_area. Write your own line of code to do this (but you can look at how we summed the area of the parks for assistance) In the previous chapter, we created a map showing parks and Indigenous areas. Now we will compare those data two other ways. Use the barchart function to write code to make a bar plot comparing the totals of each type of area, like the one shown below. Then use the boxplot function to make a boxplot comparing the area data of the two (HINT note the log scale on the y-axis below) TIP for help with barplots and boxplots, review Exercise 2 in the BIOL1001 lab, or in the console, tyep help(barplot) and help(boxplot) "],["404.html", "Page not found", " Page not found The page you requested cannot be found (perhaps it was moved or renamed). You may want to try searching to find the page's new location, or use the table of contents to find the page you are looking for. "]]
