<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5 Area Analysis | Mapping Module for Conservation Biology II (BIOL 4651/7944)</title>
  <meta name="description" content="This is a set of instructions for a mapping module in the BIOL 4651/7944 Conservation in Practice Course" />
  <meta name="generator" content="bookdown 0.24 and GitBook 2.6.7" />

  <meta property="og:title" content="5 Area Analysis | Mapping Module for Conservation Biology II (BIOL 4651/7944)" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="This is a set of instructions for a mapping module in the BIOL 4651/7944 Conservation in Practice Course" />
  

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5 Area Analysis | Mapping Module for Conservation Biology II (BIOL 4651/7944)" />
  
  <meta name="twitter:description" content="This is a set of instructions for a mapping module in the BIOL 4651/7944 Conservation in Practice Course" />
  

<meta name="author" content="Yolanda Wiersma, Memorial University" />


<meta name="date" content="2021-11-09" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  
  
<link rel="prev" href="Vectors.html"/>

<script src="libs/header-attrs-2.11/header-attrs.js"></script>
<script src="libs/jquery-3.6.0/jquery-3.6.0.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/fuse.js@6.4.6/dist/fuse.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />








<link href="libs/anchor-sections-1.0.1/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0.1/anchor-sections.js"></script>


<style type="text/css">
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>


<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">Conservation Mapping Module</a></li>

<li class="divider"></li>
<li class="chapter" data-level="1" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i><b>1</b> This is a manual for the “Mapping Module” in BIOL 4651/7704 (Conservation in Practice)</a></li>
<li class="chapter" data-level="2" data-path="intro.html"><a href="intro.html"><i class="fa fa-check"></i><b>2</b> Introduction</a></li>
<li class="chapter" data-level="3" data-path="Downloading.html"><a href="Downloading.html"><i class="fa fa-check"></i><b>3</b> Downlaoding Data</a></li>
<li class="chapter" data-level="4" data-path="Vectors.html"><a href="Vectors.html"><i class="fa fa-check"></i><b>4</b> Working with Vector Data</a></li>
<li class="chapter" data-level="5" data-path="AreaAnalysis.html"><a href="AreaAnalysis.html"><i class="fa fa-check"></i><b>5</b> Area Analysis</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Mapping Module for Conservation Biology II (BIOL 4651/7944)</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="AreaAnalysis" class="section level1" number="5">
<h1><span class="header-section-number">5</span> Area Analysis</h1>
<p>Spatial analysis is much more than making maps, so in this chapter we will investigate how to harness the data underlying these maps to answer some questions.</p>
<p>Each shapefile has an associated attribute database file. You can see what the data look like by typing <code>head(&lt;datalayername&gt;)</code>. This will give you the spatial reference data and the attribute data.</p>
<p><strong>TRY IT!!</strong> Type <code>head(MB_Parks)</code> and note the spatial referencing and attribute data. One of the headers is <code>0_AREA</code>, which gives the area of the park in hectares. The RMNP has area data stored in the <code>AnalysisAr</code> field.</p>
<p>We are going to calculate the total area of Manitoba that is set aside as protected, and compare this to the total area in Indigenous land. Then we will visualize these data with graphs.</p>
<p>First, we add up the park area and the area of RMNP (we will exclude the other national park, Wapusk).</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb17-1"><a href="AreaAnalysis.html#cb17-1" aria-hidden="true" tabindex="-1"></a>total_park_area <span class="ot">&lt;-</span> MB_RMNP<span class="sc">$</span>AnalysisAr <span class="sc">+</span> <span class="fu">sum</span>(MB_parks<span class="sc">$</span>O_AREA<span class="sc">/</span><span class="dv">100</span>)</span></code></pre></div>
<p>Note we divide the area of the parks by 100 since it is reported in hectares and we want square kilometers.</p>
<p>The Indigenous land layer does not have an area field, so it has to be calculated based on the CRS (co-ordinate reference system) using the <code>st_area</code> function. Because the CRS is in UTMs, area will be in square metres. Thus we need to divide to get to areas in square km. Use the code below and note the use of the “pipes” (<code>%&gt;%</code> symbol) which require the <code>dplyr</code> package (you can review the <code>dplyr</code> pacakge in the lab manual for BIOL 1002, available [here(<a href="https://ahurford.github.io/biol-1002/index.html" class="uri">https://ahurford.github.io/biol-1002/index.html</a>)]).</p>
<pre><code>## Installing package into &#39;C:/Users/ywiersma/Documents/R/win-library/4.1&#39;
## (as &#39;lib&#39; is unspecified)</code></pre>
<pre><code>## Warning: unable to access index for repository http://cran.us.r-projct.org/src/contrib:
##   cannot open URL &#39;http://cran.us.r-projct.org/src/contrib/PACKAGES&#39;</code></pre>
<pre><code>## Warning: package &#39;dplyr&#39; is not available for this version of R
## 
## A version of this package for your version of R might be available elsewhere,
## see the ideas at
## https://cran.r-project.org/doc/manuals/r-patched/R-admin.html#Installing-packages</code></pre>
<pre><code>## Warning: unable to access index for repository http://cran.us.r-projct.org/bin/windows/contrib/4.1:
##   cannot open URL &#39;http://cran.us.r-projct.org/bin/windows/contrib/4.1/PACKAGES&#39;</code></pre>
<pre><code>## 
## Attaching package: &#39;dplyr&#39;</code></pre>
<pre><code>## The following objects are masked from &#39;package:stats&#39;:
## 
##     filter, lag</code></pre>
<pre><code>## The following objects are masked from &#39;package:base&#39;:
## 
##     intersect, setdiff, setequal, union</code></pre>
<div class="sourceCode" id="cb25"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb25-1"><a href="AreaAnalysis.html#cb25-1" aria-hidden="true" tabindex="-1"></a>MB_Indigenous_areas <span class="ot">&lt;-</span> MB_IndigenousLands <span class="sc">%&gt;%</span></span>
<span id="cb25-2"><a href="AreaAnalysis.html#cb25-2" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">area_sqm =</span> <span class="fu">st_area</span>(MB_IndigenousLands)) <span class="sc">%&gt;%</span></span>
<span id="cb25-3"><a href="AreaAnalysis.html#cb25-3" aria-hidden="true" tabindex="-1"></a>  <span class="fu">mutate</span>(<span class="at">area_sqkm =</span> area_sqm<span class="sc">/</span><span class="dv">1000000</span>)</span></code></pre></div>
<p>Now calculate the sum of the MB_Indigenous areas and assign that to an object called <code>total_Indigenous_area</code>. Write your own line of code to do this (but you can look at how we summed the area of the parks for assistance)</p>
<p>In the previous chapter, we created a map showing parks and Indigenous areas. Now we will compare those data two other ways. Use the <code>barchart</code> function to write code to make a bar plot comparing the totals of each type of area, like the one shown below.</p>
<p><img src="Conservation-Mapping-Module_files/figure-html/unnamed-chunk-20-1.png" width="672" /></p>
<p>Then use the <code>boxplot</code> function to make a boxplot comparing the area data of the two (<strong>HINT</strong> note the log scale on the y-axis below)</p>
<p><img src="Conservation-Mapping-Module_files/figure-html/unnamed-chunk-21-1.png" width="672" /></p>
<p><strong>TIP</strong> for help with barplots and boxplots, review Exercise 2 in the <a href="https://ahurford.github.io/BIOL-1001/lab2.html#exercise-2.-bar-plots-and-boxplots-with-discrete-independent-variables">BIOL1001 lab</a>, or in the console, tyep <code>help(barplot)</code> and <code>help(boxplot)</code></p>

</div>
            </section>

          </div>
        </div>
      </div>
<a href="Vectors.html" class="navigation navigation-prev navigation-unique" aria-label="Previous page"><i class="fa fa-angle-left"></i></a>

    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"whatsapp": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/04-AreaAnalysis.Rmd",
"text": "Edit"
},
"history": {
"link": null,
"text": null
},
"view": {
"link": null,
"text": null
},
"download": ["Conservation Mapping Module.epub"],
"search": {
"engine": "fuse",
"options": null
},
"toc": {
"collapse": "subsection"
}
});
});
</script>

</body>

</html>
